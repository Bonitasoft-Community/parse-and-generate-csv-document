{
  "designerVersion" : "1.8.40",
  "id" : "parseAndGenerateCSVForm",
  "name" : "parseAndGenerateCSVForm",
  "lastUpdate" : 1558434752390,
  "rows" : [ [ {
    "type" : "container",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : { },
    "reference" : "0ed9fb95-767c-454d-ac49-805dbf33a7f6",
    "hasValidationError" : false,
    "id" : "pbContainer",
    "rows" : [ [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : {
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "level" : {
          "type" : "constant",
          "value" : "Level 1"
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbTitle"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "text" : {
          "type" : "interpolation",
          "value" : "{{ task.displayName }}"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "center"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TitleWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        }
      },
      "reference" : "d65fd164-7739-48dd-a3de-c68207b9a444",
      "hasValidationError" : false,
      "id" : "pbTitle"
    } ], [ {
      "type" : "component",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : {
        "labelHidden" : {
          "type" : "constant",
          "value" : false
        },
        "readonly" : {
          "type" : "constant",
          "value" : false
        },
        "cssClasses" : {
          "type" : "constant",
          "value" : ""
        },
        "widgetId" : {
          "type" : "constant",
          "value" : "pbText"
        },
        "isDisplayed" : {
          "type" : "constant",
          "value" : true
        },
        "label" : {
          "type" : "interpolation"
        },
        "text" : {
          "type" : "interpolation",
          "value" : "{{ task.displayDescription }}"
        },
        "alignment" : {
          "type" : "constant",
          "value" : "left"
        },
        "class" : {
          "type" : "constant",
          "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TextWidget"
        },
        "dimension" : {
          "type" : "constant",
          "value" : 12
        }
      },
      "reference" : "211983a1-6f77-41f7-84c7-67f811d2d33a",
      "hasValidationError" : false,
      "id" : "pbText"
    } ] ]
  } ], [ {
    "type" : "component",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "allowHTML" : {
        "type" : "constant",
        "value" : true
      },
      "text" : {
        "type" : "interpolation",
        "value" : "<b>Context: </b>{{context | json}}"
      },
      "alignment" : {
        "type" : "constant",
        "value" : "left"
      }
    },
    "reference" : "cb038d28-6dbd-417d-bad3-08eb7caea564",
    "hasValidationError" : false,
    "id" : "pbText"
  } ], [ {
    "type" : "component",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "disabled" : {
        "type" : "constant",
        "value" : false
      },
      "inline" : {
        "type" : "constant",
        "value" : false
      },
      "labelHidden" : {
        "type" : "constant",
        "value" : false
      },
      "label" : {
        "type" : "interpolation",
        "value" : "Select columns to remove"
      },
      "labelPosition" : {
        "type" : "constant",
        "value" : "top"
      },
      "labelWidth" : {
        "type" : "constant",
        "value" : 4
      },
      "availableValues" : {
        "type" : "expression",
        "value" : "listOfColumns.columnsNameAndIndex"
      },
      "displayedKey" : {
        "type" : "constant",
        "value" : "name"
      },
      "returnedKey" : {
        "type" : "constant",
        "value" : "position"
      },
      "selectedValues" : {
        "type" : "variable",
        "value" : "selectedColumnsIndex"
      }
    },
    "reference" : "d3b8c4c8-2aa5-462d-9668-fe97a9dc7ad9",
    "hasValidationError" : false,
    "id" : "pbChecklist"
  } ], [ {
    "type" : "component",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "allowHTML" : {
        "type" : "constant",
        "value" : true
      },
      "text" : {
        "type" : "interpolation",
        "value" : "<b>downloadFileURL: </b>{{downloadFileURL}}"
      },
      "alignment" : {
        "type" : "constant",
        "value" : "left"
      }
    },
    "reference" : "4289647a-abde-4505-812e-a4f01ce90a48",
    "hasValidationError" : false,
    "id" : "pbText"
  } ], [ {
    "type" : "component",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : {
      "cssClasses" : {
        "type" : "constant",
        "value" : ""
      },
      "hidden" : {
        "type" : "constant",
        "value" : false
      },
      "text" : {
        "type" : "interpolation",
        "value" : "Download new CSV file"
      },
      "type" : {
        "type" : "constant",
        "value" : "URL"
      },
      "targetUrl" : {
        "type" : "expression",
        "value" : "downloadFileURL"
      },
      "pageToken" : {
        "type" : "constant"
      },
      "processName" : {
        "type" : "constant"
      },
      "processVersion" : {
        "type" : "constant"
      },
      "taskId" : {
        "type" : "constant"
      },
      "caseId" : {
        "type" : "constant"
      },
      "target" : {
        "type" : "constant",
        "value" : "_self"
      },
      "appToken" : {
        "type" : "constant"
      },
      "urlParams" : {
        "type" : "constant"
      },
      "alignment" : {
        "type" : "constant",
        "value" : "left"
      },
      "buttonStyle" : {
        "type" : "constant",
        "value" : "link"
      }
    },
    "reference" : "8475b20b-4caf-454a-8a4f-3f9f931eadb7",
    "hasValidationError" : false,
    "id" : "pbLink"
  } ], [ {
    "type" : "formContainer",
    "dimension" : {
      "xs" : 12
    },
    "propertyValues" : { },
    "reference" : "69ca2ed8-fb3f-447b-b471-4c8a90b6e820",
    "hasValidationError" : false,
    "id" : "pbFormContainer",
    "container" : {
      "type" : "container",
      "dimension" : {
        "xs" : 12
      },
      "propertyValues" : { },
      "reference" : "c6c1f0ca-3f19-4625-8c60-1f63082baab7",
      "hasValidationError" : false,
      "id" : "pbContainer",
      "rows" : [ [ {
        "type" : "component",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "removeItem" : {
            "type" : "variable"
          },
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "widgetId" : {
            "type" : "constant",
            "value" : "pbButton"
          },
          "buttonStyle" : {
            "type" : "constant",
            "value" : "primary"
          },
          "isDisplayed" : {
            "type" : "constant",
            "value" : true
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Perform the task"
          },
          "dataToSend" : {
            "type" : "expression",
            "value" : "formOutput"
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "readonly" : {
            "type" : "constant",
            "value" : false
          },
          "collectionPosition" : {
            "type" : "constant"
          },
          "targetUrlOnSuccess" : {
            "type" : "interpolation",
            "value" : "/bonita"
          },
          "action" : {
            "type" : "constant",
            "value" : "Submit task"
          },
          "collectionToModify" : {
            "type" : "variable"
          },
          "valueToAdd" : {
            "type" : "expression"
          },
          "disabled" : {
            "type" : "expression",
            "value" : "$form.$invalid"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "center"
          },
          "class" : {
            "type" : "constant",
            "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.ButtonWidget"
          },
          "dimension" : {
            "type" : "constant",
            "value" : 12
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "url" : {
            "type" : "interpolation"
          },
          "dataFromSuccess" : {
            "type" : "variable",
            "value" : ""
          },
          "closeOnSuccess" : {
            "type" : "constant",
            "value" : false
          },
          "dataFromError" : {
            "type" : "variable",
            "value" : ""
          },
          "modalId" : {
            "type" : "constant",
            "value" : ""
          }
        },
        "reference" : "cef24c57-8318-49d0-84c6-58a67289fb74",
        "hasValidationError" : false,
        "id" : "pbButton"
      } ] ]
    }
  } ] ],
  "assets" : [ {
    "id" : "a7916141-7ccc-4ac3-a63e-ae9ede2cb9eb",
    "name" : "style.css",
    "type" : "css",
    "order" : 0,
    "external" : false
  } ],
  "inactiveAssets" : [ ],
  "data" : {
    "task" : {
      "type" : "url",
      "value" : "../API/bpm/userTask/{{taskId}}",
      "exposed" : false
    },
    "formInput" : {
      "type" : "json",
      "value" : "{ }",
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : "return {\n\n};",
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : "../API/bpm/userTask/{{taskId}}/context",
      "exposed" : false
    },
    "taskId" : {
      "type" : "urlparameter",
      "value" : "id",
      "exposed" : false
    },
    "listOfColumns" : {
      "type" : "url",
      "value" : "../API/extension/listCSVFileColumnsName?contentStorageId={{context.csvSourceFile_ref.contentStorageId}}",
      "exposed" : false
    },
    "downloadFileURL" : {
      "type" : "expression",
      "value" : "var url = \"../API/extension/generateCSVFile?contentStorageId=\"+$data.context.csvSourceFile_ref.contentStorageId+\"&processInstanceId=\"+$data.context.csvSourceFile_ref.processInstanceId;\n\nfor (var i = 0; i < $data.selectedColumnsIndex.length; i++) {\n  url += \"&columnIndex=\"+$data.selectedColumnsIndex[i]\n}\n\n\nreturn url;",
      "exposed" : false
    },
    "selectedColumnsIndex" : {
      "type" : "json",
      "value" : "{}",
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "06c6afda-ea7c-4ab6-9748-8585e973d792",
  "type" : "form",
  "description" : "Page generated with Bonita UI designer"
}